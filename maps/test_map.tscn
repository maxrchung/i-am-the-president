[gd_scene load_steps=6 format=3 uid="uid://bboibipxo6flu"]

[ext_resource type="Script" path="res://maps/test_map.gd" id="1_0a3d1"]
[ext_resource type="PackedScene" uid="uid://c7k5ww22arkk2" path="res://gameobjects/bicycle.tscn" id="1_edykj"]
[ext_resource type="PackedScene" uid="uid://dfnggqdwkl07a" path="res://assets/models/track_01.glb" id="2_6jibo"]
[ext_resource type="Texture2D" uid="uid://djytkt442qiqt" path="res://icon.svg" id="4_8if12"]

[sub_resource type="BoxShape3D" id="BoxShape3D_eigu5"]
size = Vector3(33.6801, 41.8364, 1)

[node name="TestMap" type="Node3D"]
script = ExtResource("1_0a3d1")

[node name="Bicycle" parent="." instance=ExtResource("1_edykj")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 46.6844, 1.26458, 42.8507)

[node name="Camera3D" type="Camera3D" parent="Bicycle"]
transform = Transform3D(-1, 8.6572e-08, -1.21669e-08, 0, 0.139173, 0.990268, 8.74228e-08, 0.990268, -0.139173, 0, 12.45, -1)

[node name="track_01" parent="." instance=ExtResource("2_6jibo")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.92325, 0.384199, 0, -0.384199, 0.92325, 0, 33.8125, 0)

[node name="WinUi" type="CanvasLayer" parent="."]
visible = false

[node name="YouWonText" type="Label" parent="WinUi"]
offset_left = 321.0
offset_top = 160.0
offset_right = 492.0
offset_bottom = 183.0
text = "Hey you won congrats"

[node name="PlayAgainButton" type="Button" parent="WinUi"]
visible = false
offset_left = 320.0
offset_top = 229.0
offset_right = 407.0
offset_bottom = 260.0
text = "Play again"

[node name="LeaveButton" type="Button" parent="WinUi"]
offset_left = 462.0
offset_top = 246.0
offset_right = 515.0
offset_bottom = 277.0
text = "Leave"

[node name="LoseUi" type="CanvasLayer" parent="."]
visible = false

[node name="YouWonText" type="Label" parent="LoseUi"]
offset_left = 431.0
offset_top = 309.0
offset_right = 602.0
offset_bottom = 332.0
text = "Lol you lost"

[node name="TryAgainButton" type="Button" parent="LoseUi"]
visible = false
offset_left = 417.0
offset_top = 376.0
offset_right = 504.0
offset_bottom = 407.0
text = "Try again"

[node name="LeaveButton" type="Button" parent="LoseUi"]
offset_left = 551.0
offset_top = 391.0
offset_right = 604.0
offset_bottom = 422.0
text = "Leave"

[node name="StartPosition" type="Node3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 46.684, 1.265, 42.851)

[node name="EndArea" type="Area3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 46.684, 1.265, 42.851)

[node name="EndIndicator" type="Sprite3D" parent="EndArea"]
transform = Transform3D(25.08, 0, 0, 0, 25.08, 0, 0, 0, 25.08, 0.803822, 0, 38.6651)
texture = ExtResource("4_8if12")

[node name="EndCollision" type="CollisionShape3D" parent="EndArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.46827, -2.81274, 38.5781)
shape = SubResource("BoxShape3D_eigu5")
disabled = true

[node name="Hud" type="CanvasLayer" parent="."]

[node name="SpeedLabel" type="Label" parent="Hud"]
offset_left = 30.0
offset_top = 49.0
offset_right = 82.0
offset_bottom = 72.0
text = "Speed:"

[node name="SpeedText" type="Label" parent="Hud"]
offset_left = 98.0
offset_top = 50.0
offset_right = 138.0
offset_bottom = 73.0
text = "0"

[node name="TimeLabel" type="Label" parent="Hud"]
offset_left = 133.0
offset_top = 14.0
offset_right = 176.0
offset_bottom = 37.0
text = "Time:"

[node name="TimeText" type="Label" parent="Hud"]
offset_left = 189.0
offset_top = 17.0
offset_right = 229.0
offset_bottom = 40.0
text = "0"

[connection signal="pressed" from="WinUi/PlayAgainButton" to="." method="_on_play_again_button_pressed"]
[connection signal="pressed" from="WinUi/LeaveButton" to="." method="_on_leave_button_pressed"]
[connection signal="pressed" from="LoseUi/TryAgainButton" to="." method="_on_try_again_button_pressed"]
[connection signal="pressed" from="LoseUi/LeaveButton" to="." method="_on_leave_button_pressed"]
[connection signal="body_entered" from="EndArea" to="." method="_on_end_area_body_entered"]
